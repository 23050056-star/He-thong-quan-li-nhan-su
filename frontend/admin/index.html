<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hệ thống quản lý nhân sự</title>

  <link
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    rel="stylesheet"
  />
  <link rel="stylesheet" href="/static/admin/styles.css">
</head>

<body>
<div class="container">

  <!-- HEADER -->
  <header class="header">
        <h1><i class="fas fa-user"></i> Hệ thống quản lý nhân sự</h1>
        <button onclick="logout()" class="btn-logout">Đăng xuất</button>
      </header>

  <!-- SIDEBAR -->
  <nav class="sidebar">
    <ul>
      <button class="btn-logout" onclick="showSection('dashboard')">Dashboard</button>
      </br>
      <button class="btn-logout" onclick="showSection('employees')">Quản lý nhân viên</button>
      </br>
      <button class="btn-logout" onclick="showSection('departments')">Quản lý phòng ban</button>
      </br>
      <button class="btn-logout" onclick="showSection('positions')">Quản lý chức vụ</button>
      </br>
      <button class="btn-logout" onclick="showSection('salary')">Tính lương</button>
      </br>
      <button class="btn-logout" onclick="showSection('reports')">Báo cáo</button>
    </ul>
  </nav>

  <!-- MAIN -->
  <main class="main-content">

    <!-- DASHBOARD -->
    <section id="dashboard" class="content-section active">
      <h2>Tổng quan hệ thống</h2>
      <p>Thống kê nhân sự, phòng ban, chức vụ</p>
    </section>

    <!-- NHÂN VIÊN -->
    <section id="employees" class="content-section">
          <div class="section-header">
            <h2>Quản lý nhân viên</h2>
            <button class="btn-primary" onclick="showEmployeeForm()">
              <i class="fas fa-plus"></i> Thêm nhân viên
            </button>
          </div>

          <div class="search-bar">
            <input
              type="text"
              id="searchEmployee"
              placeholder="Tìm kiếm nhân viên..."
              onkeyup="searchEmployees()"
            />
            <select id="departmentFilter" onchange="filterEmployees()">
              <option value="">Tất cả phòng ban</option>
            </select>
          </div>

          <div class="table-container">
            <table id="employeesTable">
              <thead>
                <tr>
                  <th>Mã NV</th>
                  <th>Họ tên</th>
                  <th>Email</th>
                  <th>Phòng ban</th>
                  <th>Chức vụ</th>
                  <th>Ngày vào làm</th>
                  <th>Ngày chấm công</th>
                  <th>Ngày nghỉ</th>
                  <th>Trạng thái</th>
                  <th>Thao tác</th>
                </tr>
              </thead>
              <tbody id="employeesTableBody">
                <!-- Render nhân viên -->
              </tbody>
            </table>
          </div>
        </section>

    <!-- PHÒNG BAN -->
    <section id="departments" class="content-section">
          <div class="section-header">
            <h2>Quản lý phòng ban</h2>
            <button class="btn-primary" onclick="showDepartmentForm()">
              <i class="fas fa-plus"></i> Thêm phòng ban
            </button>
          </div>

          <div class="cards-container" id="departmentsContainer">
            <!-- Department cards will be loaded here -->
          </div>
        </section>

    <!-- CHỨC VỤ -->
    <section id="positions" class="content-section">
          <div class="section-header">
            <h2>Quản lý chức vụ</h2>
            <button class="btn-primary" onclick="showPositionForm()">
              <i class="fas fa-plus"></i> Thêm chức vụ
            </button>
          </div>

          <div class="table-container">
            <table id="positionsTable">
              <thead>
                <tr>
                  <th>Tên chức vụ</th>
                  <th>Mô tả</th>
                  <th>Lương cơ bản</th>
                  <th>Số nhân viên</th>
                  <th>Thao tác</th>
                </tr>
              </thead>
              <tbody id="positionsTableBody">
                <!-- Positions data will be loaded here -->
              </tbody>
            </table>
          </div>
        </section>

    <!-- TÍNH LƯƠNG -->
    <section id="salary" class="content-section">
          <div class="section-header">
            <h2>Tính lương</h2>
            <div class="salary-period">
              <select id="salaryMonth">
                <option value="1">Tháng 1</option>
                <option value="2">Tháng 2</option>
                <option value="3">Tháng 3</option>
                <option value="4">Tháng 4</option>
                <option value="5">Tháng 5</option>
                <option value="6">Tháng 6</option>
                <option value="7">Tháng 7</option>
                <option value="8">Tháng 8</option>
                <option value="9">Tháng 9</option>
                <option value="10">Tháng 10</option>
                <option value="11">Tháng 11</option>
                <option value="12">Tháng 12</option>
              </select>
              <select id="salaryYear">
                <option value="2024">2024</option>
                <option value="2025">2025</option>
              </select>
              <button class="btn-primary" onclick="calculateSalary()">
                <i class="fas fa-calculator"></i> Tính lương
              </button>
            </div>
          </div>

          <div class="salary-summary">
            <div class="summary-card">
              <h3>Thông tin lương</h3>
              <p>
                <strong>Tên nhân viên:</strong>
                <span id="salaryEmployeeName">--</span>
              </p>
              <p>
                <strong>Chức vụ:</strong> <span id="salaryPosition">--</span>
              </p>
              <p>
                <strong>Lương cơ bản:</strong>
                <span id="baseSalary">0 VND</span>
              </p>
              <p>
                <strong>Số ngày làm việc:</strong>
                <span id="workingDays">0 ngày</span>
              </p>
              <p>
                <strong>Số ngày nghỉ:</strong>
                <span id="leaveDays">0 ngày</span>
              </p>
              <p>
                <strong>Tổng lương:</strong>
                <span id="totalSalary" class="salary-total">0 VND</span>
              </p>
            </div>
          </div>

          <!-- Bảng lương cho admin -->
          <div id="salaryTableContainer" style="display: none">
            <h3>Bảng lương nhân viên</h3>
            <div class="table-container">
              <table id="salaryTable">
                <thead>
                  <tr>
                    <th>Mã NV</th>
                    <th>Họ tên</th>
                    <th>Chức vụ</th>
                    <th>Lương cơ bản</th>
                    <th>Ngày làm</th>
                    <th>Ngày nghỉ</th>
                    <th>Tổng lương</th>
                  </tr>
                </thead>
                <tbody id="salaryTableBody">
                  <!-- Dữ liệu bảng lương -->
                </tbody>
              </table>
            </div>
          </div>
        </section>

    <!-- BÁO CÁO -->
    <section id="reports" class="content-section">
          <h2>Báo cáo và thống kê</h2>
          <div class="reports-container">
            <div class="report-card">
              <h3>Thống kê nhân sự theo phòng ban</h3>
              <canvas id="departmentChart"></canvas>
            </div>
            <div class="report-card">
              <h3>Phân bố chức vụ</h3>
              <canvas id="positionChart"></canvas>
            </div>
          </div>
        </section>

  </main>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="/static/admin/script.js"></script>
</body>
</html>
